{% extends "base.html" %}

{% block content %}

<div class="feed-header">
    <h1>Problems in Your Area</h1>
</div>

<div class="feed-container">
    {% if problems|length == 0 %}
    <p style="text-align:center;">No problems reported yet.</p>
    {% endif %}

    {% for problem in problems %}
    <div class="problem-card">
        <div class="card-header">
            <span class="category-tag">{{ problem.category }}</span>
            <span class="status-badge pending">{{ problem.status|capitalize
                }}</span>
        </div>

        {% if problem.image %}
        <img src="{{ url_for('static', filename=problem.image) }}"
            class="problem-img">
        {% endif %}

        <div class="card-body">
            <p class="description">{{ problem.description }}</p>
            <div class="location-info">
                üìç {{ problem.location.area_name }}
            </div>
        </div>

        <div class="card-footer">
            <button class="vote-btn" data-id="{{ problem._id }}">
                ‚ñ≤ <span>{{ problem.votes }} Votes</span>
            </button>
            <button class="share-btn">Share</button>
        </div>

    </div>
    {% endfor %}
</div>

{% endblock %}
